@use 'sass:color';
@use 'sass:map';
// Monochrome

$black: hsl(0, 0%, 0%);
$white: hsl(0, 0%, 100%);

// Colormix functions
// 
// use `tint` instead of default `lighten`
// use `shade` instead of default `darken` 

@function tint($color, $percentage) {
  @return color.mix($white, $color, $percentage);
}

@function shade($color, $percentage) {
  @return color.mix($black, $color, $percentage);
}

// Color palettes
// 
// Ax00 variants are WCAG-accesible complements of x00 colors
// all the colors are in CIECAM02 color space

$primary: (
  100: hsl(158, 25%, 79%),
  200: hsl(160, 26%, 71%),
  300: hsl(160, 30%, 62%),
  400: hsl(161, 33%, 52%),
  500: hsl(166, 64%, 38%),
  600: hsl(165, 54%, 36%),
  700: hsl(163, 45%, 34%),
  800: hsl(162, 39%, 31%),
  900: hsl(162, 35%, 28%),
  A100: hsl(160, 31%, 25%),
  A200: hsl(160, 27%, 22%),
  A300: hsl(162, 25%, 18%),
  A600:	hsl(150, 17%, 98%),
  A700: hsl(160, 20%, 94%),
  A800: hsl(164, 22%, 90%),
  A900: hsl(160, 22%, 86%)
);

$secondary: (
  100: hsl(240, 11%, 80%),
  200: hsl(244, 12%, 72%),
  300: hsl(245, 13%, 64%),
  400: hsl(244, 14%, 58%),
  500: hsl(245, 15%, 52%),
  600: hsl(247, 19%, 46%),
  700: hsl(247, 21%, 40%),
  800: hsl(248, 19%, 33%),
  900: hsl(248, 18%, 26%),
  A100: hsl(248, 17%, 25%),
  A200: hsl(249, 17%, 22%),
  A300: hsl(245, 14%, 15%),
  A600: hsl(240, 8%, 95%),
  A700: hsl(252, 11%, 91%),
  A800: hsl(240, 11%, 88%),
  A900: hsl(240, 9%, 85%)
);

$tertiary: (
  100: hsl(42, 74%, 74%),
  200: hsl(42, 77%, 67%),
  300: hsl(42, 81%, 59%),
  400: hsl(42, 67%, 53%),
  500: hsl(42, 55%, 49%),
  600: hsl(41, 52%, 45%),
  700: hsl(42, 48%, 41%),
  800: hsl(41, 45%, 37%),
  900: hsl(41, 42%, 33%),
  A100: hsl(40, 40%, 30%),
  A200: hsl(41, 38%, 26%),
  A300: hsl(42, 34%, 23%),
  A600: hsl(49, 50%, 94%),
  A700: hsl(45, 59%, 88%),
  A800: hsl(43, 67%, 84%),
  A900: hsl(43, 71%, 78%)
);

// Conveniences for palette access

@function primary($variation) {
  @return map.get($primary, $variation);
}

@function secondary($variation) {
  @return map.get($secondary, $variation);
}

@function tertiary($variation) {
  @return map.get($tertiary, $variation);
}

// CSS properties for light theme

[data-theme='light'] {
  --text-default: #{secondary(A200)};
  --text-muted: #{tertiary(A100)};
  --link-default: #{color.scale(primary(800), $saturation: 5%, $lightness: 2%)};
  --link-hover: #{primary(900)};
  --background-body: #{$white};
  --background-body-dim: #{primary(A600)};
  --background-panel-vibrant: #{color.scale(tertiary(A800), $lightness: 30%)};
  --background-panel: #{color.scale(tertiary(A700), $saturation: -20%, $lightness: 15%)};
  --background-panel-dim: #{tertiary(A800)};
  --border-search: #{color.scale(tertiary(200), $saturation: -30%)};
  --code-default: #{primary(A300)};
}

// CSS properties for dark theme

[data-theme='dark'] {
  --text-default: #{shade($white, 25%)};
  --text-muted: #{color.scale(tertiary(500), $saturation: -30%)};
  --link-default: #{primary(500)};
  --link-hover: #{primary(700)};
  --background-body: #{shade(secondary(A300), 15%)};
  --background-body-dim: #{shade(secondary(A300), 30%)};
  --background-panel-vibrant: #{color.adjust(secondary(A200), $alpha: -0.2)};
  --background-panel: #{secondary(A300)};
  --background-panel-dim: #{shade(secondary(A300), 40%)};
  --border-search: #{secondary(900)};
  --code-default: #{color.adjust(secondary(900), $alpha: -0.5)};
}
