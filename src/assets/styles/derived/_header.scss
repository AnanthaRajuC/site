@use '~/assets/styles/variables';
@use '~/assets/styles/mixins/queries';
@use '~/assets/styles/mixins/utils';

// Header

$header-gap: var(--flex-gapx);
$header-wrap: var(--flex-wrap);
$header-font-size: variables.$font-sm;
$header-menu-offsetx: -(utils.$tappable-gapx);
$header-menu-offsety: utils.$tappable-gapx;

.crown {
  background-image:
    radial-gradient(circle at 0% 10%, var(--bg-caution) 9%, transparent 9%),
    radial-gradient(circle at 22.5% center, var(--tone-2) 8%, transparent 8%),
    radial-gradient(circle at top center, var(--tone-1) 30%, transparent 30%),
    radial-gradient(circle at 77.5% center, var(--bg-important) 5%, transparent 5%),
    radial-gradient(circle at 100% 10%, var(--bg-tip) 7%, transparent 7%);
  background-size: 150% 100%;
  animation: gradient 250s ease-in-out infinite;

  .post-main-section > * {
    max-width: variables.$max-width-rg;
    @include utils.mx(auto);
  }

  .post-main-section {
    cursor: pointer;
    background-color: var(--bg-highlight);
    @include utils.tappable($radius: 0, $gapx: var(--content-article-gap), $gapy: var(--space-md), $underline: true);

    &-title {
      @include utils.heading-font;
      font-weight: var(--weight-bold);
      font-size: variables.$font-lg;
    }

    &-excerpt {
      margin-top: variables.$ch-rg;
      color: var(--text-passive);
      font-size: 0.9em;
    }
  }
}

.header {
  display: flex;
  flex-wrap: $header-wrap;
  justify-content: space-between;
  align-items: center;
  padding: $header-gap;
  font-size: $header-font-size;

  > * {
    display: inherit;
    align-items: inherit;
  }

  .brand {
    width: 160px;

    svg {
      @include utils.size(inherit);
    }
  }

  .menu > *,
  .search > a {
    @include utils.tappable;
  }

  .search {
    justify-content: flex-end;
  }

  .menu {
    @include utils.mx($header-menu-offsetx);
    margin-right: 0.5rem;
    justify-content: center;
  }
}

@include queries.md {
  .brand,
  .search {
    flex-basis: 50%;
  }
}

// Rearrange on small screen

@include queries.rg {
  .menu {
    flex-basis: 100%;
    order: 1;
    margin-top: $header-menu-offsety;
  }
}
